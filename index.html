<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <div class="vidcontainer">
      <select class="qualitypick" autocomplete="off">
        <option selected>fullHD</option>
        <option>720p</option>
        <option>360p</option>
      </select>
      <video controls preload width="400">
        <source label="fullHD" src="./video.mp4" type="video/mp4" />
        <source label="720p" src="./video.mp4" type="video/mp4" />
        <source label="360p" src="./video.mp4" type="video/mp4" />
      </video>
    </div>

    <script>
      $(document).ready(function () {
        $('.qualitypick').change(function () {
          //Have several videos in file, so have to navigate directly
          video = $(this).parent().find('video');

          //Need access to DOM element for some functionality
          videoDOM = video.get(0);

          curtime = videoDOM.currentTime; //Get Current Time of Video
          source = video.find('source[label=' + $(this).textContent + ']'); //Copy Source

          source.remove(); //Remove the source from select
          video.prepend(source); //Prepend source on top of options
          video.load(); //Reload Video
          videoDOM.currentTime = curtime; //Continue from video's stop
          videoDOM.play(); //Resume video
        });
      });
    </script>
  </body>
</html>
